% Suppress some compilation warnings
\RequirePackage[save,showerrors]{silence}
\WarningFilter{biblatex}
  {The starred command '\DeclareDelimAlias*' is} % APA package is using this deprecated starred version
\WarningFilter{transparent}
  {Loading aborted} % I can't find where it is loaded, probably somewhere in kao's cls or sty
\WarningFilter{latex}
  {Unused global option} % They are, but kaobook is silently passing them to its base class

\documentclass[
    a4paper,
    chapterentrydots=true,
    fontsize=11pt,
    open=any,      % Force new chapters to start on any page, not only on right (odd) pages
    secnumdepth=1, % How deep to number headings (1 = sections)
    twoside=true,  % Use different layouts for even and odd pages
]{kaobook}

% Main and default language is french but there are some parts in english
\usepackage[main=french,english]{babel}
\newcommand{\english}[1]{\foreignlanguage{english}{\itshape #1}}
\usepackage{csquotes}

% Allow to include SVG with \includesvg similarly to \includegraphics for other image formats
\usepackage[inkscapepath=./build/svg-inkscape/]{svg}

% Bibliography configuration
\usepackage[style=apa]{kaobiblio}
\addbibresource{references.bib}

% Hyperref integration
\usepackage{kaorefs}

% Search paths for images and tex input files
\graphicspath{{images/}}

% Configure the index and the glossary
\makeindex[columns=3, title=Alphabetical Index, intoc]
\makeglossaries
\input{glossary}

% Deactivate the citation/figure margin for new part pages
\NewCommandCopy{\oldaddpart}{\addpart}
\renewcommand{\addpart}[1]{%
    \pagelayout{wide} % no citation/figure margin
    \oldaddpart{#1}
    \pagelayout{margin} % restore the margin
}

\begin{document}
    \input{document}
\end{document}
